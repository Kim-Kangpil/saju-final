# ì‚¬ì£¼ ì—”ì§„ í”„ë¡œì íŠ¸ êµ¬ì¡°

## âœ… ì™„ì„±ëœ ë¶€ë¶„ (Phase 1)

```
saju-engine/
â”œâ”€â”€ core/                              âœ… ë¶„ì„ ì—”ì§„ ì™„ì„±
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ten_gods.py                   # ì‹­ì„± ê³„ì‚° (ì²´ìš©ë°˜ëŒ€ í¬í•¨)
â”‚   â”œâ”€â”€ strength.py                   # ì‹ ê°•ì•½ íŒë³„
â”‚   â”œâ”€â”€ harmony_clash.py              # í•©ì¶© ë¶„ì„
â”‚   â”œâ”€â”€ sinsal.py                     # ì‹ ì‚´ ë¶„ì„
â”‚   â””â”€â”€ analyzer.py                   # í†µí•© ë¶„ì„
â”‚
â”œâ”€â”€ interpretation/                    âš ï¸  íŒ¨í„´ ë§¤ì¹­ë§Œ ì™„ì„±
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ pattern_matcher.py            âœ… íŒ¨í„´ ë§¤ì¹­ (11ê°œ íŒ¨í„´)
â”‚   â””â”€â”€ templates/                    âŒ í…œí”Œë¦¿ ì‘ì„± í•„ìš”
â”‚       â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_engine.py                âœ… ê¸°ë³¸ í…ŒìŠ¤íŠ¸
â”‚
â”œâ”€â”€ README.md
â””â”€â”€ requirements.txt
```

## ğŸ“Š í˜„ì¬ ê¸°ëŠ¥

### ë¶„ì„ (ì™„ì„±!)
```python
from core import analyze_full_saju, print_full_analysis

analysis = analyze_full_saju(day_stem='ç™¸', pillars={
    'year': 'åºšè¾°',
    'month': 'ä¹™é…‰',
    'day': 'ç™¸æœª',
    'hour': 'åºšç”³'
})

# ì¶œë ¥:
# - ì‹ ê°•ì•½: ì‹ ê°• 60ì 
# - ì‹­ì„±: ì •ì¸ 3ê°œ, ì‹ì‹  1ê°œ, ...
# - í•©ì¶©: ì„ê²½í•©ê¸ˆ, ì§„ìœ ìœ¡í•©, ...
# - ì‹ ì‚´: í™”ê°œì‚´
```

### íŒ¨í„´ ë§¤ì¹­ (ì™„ì„±!)
```python
from interpretation import match_patterns

patterns = match_patterns(analysis)

# ì¶œë ¥:
# ['ì‹ ê°•', 'ì¸ì„±ê³¼ë‹¤', 'ì¬ì„±ë¶€ì¬', 'ì‹ìƒë¶€ì¡±', 
#  'ì„ê²½í•©ê¸ˆ', 'ì§„ìœ ìœ¡í•©', 'í™”ê°œì‚´_ì¼ì§€',
#  'ì‹ ê°•_ì¸ì„±ê³¼ë‹¤', 'ì‹ ê°•_ì¬ì„±ë¶€ì¬', 
#  'ì¸ì„±ê³¼ë‹¤_ì‹ìƒë¶€ì¡±', 'ì²œì§€ë™í•©']
```

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„ (Phase 2)

### í•´ì„ í…œí”Œë¦¿ ì‹œìŠ¤í…œ êµ¬ì¶•

**ë§Œë“¤ì–´ì•¼ í•  íŒŒì¼:**
```
interpretation/templates/
â”œâ”€â”€ section01_elements.py      # ì˜¤í–‰ ë¶„ì„ í…œí”Œë¦¿
â”œâ”€â”€ section02_strength.py      # ì‹ ê°•ì•½ í…œí”Œë¦¿
â”œâ”€â”€ section03_ten_gods.py      # ì‹­ì„± í…œí”Œë¦¿
â”œâ”€â”€ section04_harmony.py       # í•©ì¶© í…œí”Œë¦¿
â”œâ”€â”€ section05_sinsal.py        # ì‹ ì‚´ í…œí”Œë¦¿
â”œâ”€â”€ section06_relations.py     # ì¸ê°„ê´€ê³„ í…œí”Œë¦¿
â”œâ”€â”€ section07_career.py        # ì§ì—… í…œí”Œë¦¿
â”œâ”€â”€ section08_health.py        # ê±´ê°• í…œí”Œë¦¿
â”œâ”€â”€ section09_fortune.py       # ìš´ì„¸ í…œí”Œë¦¿
â””â”€â”€ section10_advice.py        # ì¡°ì–¸ í…œí”Œë¦¿
```

**ê° í…œí”Œë¦¿ í˜•ì‹:**
```python
# section01_elements.py ì˜ˆì‹œ

TEMPLATES = {
    "ì‹ ê°•_ì¸ì„±ê³¼ë‹¤_ì¬ì„±ë¶€ì¬": {
        "title": "ì¶©ë¶„í•œ ì—ë„ˆì§€, ë¶€ì¡±í•œ ì¶œêµ¬",
        
        "empathy": '''
ë‹¹ì‹ ì˜ ì‚¬ì£¼ë¥¼ ë³´ë©´, ë§ˆì¹˜ í’ìš”ë¡œìš´ ìƒ˜ë¬¼ì´... (1500ì)
ê¸ˆ(é‡‘) {ê¸ˆ_count}ê°œê°€ ë‹¹ì‹ ì„ ê°ì‹¸ê³ ...
í•˜ì§€ë§Œ í™”(ç«) ê¸°ìš´ì´ ì „í˜€ ì—†ì–´ì„œ...
        ''',
        
        "reality": '''
ì˜¤í–‰ ë¶„í¬: æœ¨1 / ç«0 / åœŸ2 / é‡‘4 / æ°´1
ì‹ ê°•ì•½: ì‹ ê°• {score}ì 
ì˜¤í–‰ ë¶ˆê· í˜• ì§€ìˆ˜: 8.2/10 (ë§¤ìš° ì‹¬ê°)
        ''',
        
        "fun": '''
ì•¼, ë„ˆ ê¸ˆ 4ê°œì•¼ã…‹ã…‹ ê¸ˆìˆ˜ì € ì•„ë‹ˆê³  ê¸ˆ ê³¼ë‹¤ì„ã…‹ã…‹
ê·¼ë° í™”ê°€ í•˜ë‚˜ë„ ì—†ì–´ì„œ ëˆ ì¸ì—° ì•½í•¨...
        '''
    }
}
```

**í…œí”Œë¦¿ ë Œë”ë§:**
```python
# interpretation/generator.py (ìƒˆë¡œ ë§Œë“¤ íŒŒì¼)

def generate_interpretation(analysis, section_id, tone='empathy'):
    patterns = match_patterns(analysis)
    template = select_best_template(section_id, patterns)
    
    # ë°ì´í„° ì±„ìš°ê¸°
    content = template[tone].format(
        score=analysis['strength']['total_score'],
        ê¸ˆ_count=count_element(analysis, 'ê¸ˆ'),
        ...
    )
    
    return {
        'section_id': section_id,
        'title': template['title'],
        'content': content
    }
```

## ğŸ“ ì‘ì—… ê³„íš

### MVP (1ì£¼)
- [ ] ì„¹ì…˜ 3ê°œë§Œ ìš°ì„  (ì˜¤í–‰, ì‹ ê°•ì•½, ì‹­ì„±)
- [ ] í†¤ 1ê°œë§Œ (empathy)
- [ ] í•µì‹¬ íŒ¨í„´ 5ê°œë§Œ

### Full (2-3ì£¼)
- [ ] ì„¹ì…˜ 10ê°œ ì™„ì„±
- [ ] í†¤ 3ê°œ ì™„ì„±
- [ ] íŒ¨í„´ 30ê°œ ì™„ì„±

## ğŸ¯ ëª©í‘œ

**ì…ë ¥:**
```python
ì‚¬ì£¼: åºšè¾° ä¹™é…‰ ç™¸æœª åºšç”³
```

**ì¶œë ¥:**
```python
[
    {
        'section_id': 1,
        'title': 'ì˜¤í–‰ ì—ë„ˆì§€ ë¶„ì„',
        'content': 'ë‹¹ì‹ ì˜ ì‚¬ì£¼ë¥¼ ë³´ë©´... (1500ì)',
        'tone': 'empathy'
    },
    {
        'section_id': 2,
        'title': 'ì‹ ê°•ì•½ê³¼ ì‚¶ì˜ ë°©í–¥',
        'content': 'ë‹¹ì‹ ì€ ì‹ ê°• 60ì ìœ¼ë¡œ... (1500ì)',
        'tone': 'empathy'
    },
    # ... ì´ 10ê°œ ì„¹ì…˜
]
```
